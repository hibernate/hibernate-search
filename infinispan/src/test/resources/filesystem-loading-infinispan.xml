<?xml version="1.0" encoding="UTF-8"?>
<!--
 ~ Hibernate Search, full-text search for your domain model
 ~
 ~ License: GNU Lesser General Public License (LGPL), version 2.1 or later
 ~ See the lgpl.txt file in the root directory or <http://www.gnu.org/licenses/lgpl-2.1.html>.
  -->
<infinispan
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="urn:infinispan:config:7.0 http://www.infinispan.org/schemas/infinispan-config-7.0.xsd"
    xmlns="urn:infinispan:config:7.0">

    <cache-container name="HibernateSearch" default-cache="default" statistics="false" shutdown-hook="DONT_REGISTER">

        <!-- Duplicate domains are allowed so that multiple deployments with default configuration
            of Hibernate Search applications work - if possible it would be better to use JNDI to share
            the CacheManager across applications -->
        <jmx duplicate-domains="true" />

         <!-- *************************************** -->
         <!--  Cache to store Lucene's file metadata  -->
         <!-- *************************************** -->
         <local-cache name="LuceneIndexesMetadata" batching="false" >
            <transaction mode="NONE"/>
            <indexing index="NONE" />
            <locking striping="false" acquire-timeout="10000" concurrency-level="500" write-skew="false" />
            <eviction max-entries="-1" strategy="NONE"/>
            <expiration max-idle="-1"/>
            <persistence>
                <file-store shared="false" preload="true" fetch-state="true" read-only="false" purge="false" path="${project.build.directory}" />
            </persistence>
         </local-cache>

         <!-- **************************** -->
         <!--  Cache to store Lucene data  -->
         <!-- **************************** -->
         <local-cache name="LuceneIndexesData" batching="false">
            <transaction mode="NONE"/>
            <indexing index="NONE" />
            <locking striping="false" acquire-timeout="10000" concurrency-level="500" write-skew="false" />
            <eviction max-entries="-1" strategy="NONE"/>
            <expiration max-idle="-1"/>
            <persistence>
                <file-store shared="false" preload="true" fetch-state="true" read-only="false" purge="false" path="${project.build.directory}" />
            </persistence>
         </local-cache>

         <!-- ***************************** -->
         <!--  Cache to store Lucene locks  -->
         <!-- ***************************** -->
        <local-cache name="LuceneIndexesLocking" batching="false">
            <transaction mode="NONE"/>
            <indexing index="NONE" />
            <locking striping="false" acquire-timeout="10000" concurrency-level="500" write-skew="false" />
            <eviction max-entries="-1" strategy="NONE"/>
            <expiration max-idle="-1"/>
        </local-cache>
    </cache-container>

</infinispan>
